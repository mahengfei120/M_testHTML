<html>
	<head>
		<meta content="text/html; charset=UTF-8">
		<title>一个测试HTML的页111面</title>
	</head>
	<body>
		<div class="getLocation">获取当前地理位置</div>
		<div class="test_size">这是一行小字</div>
		<div class="location_str"></div>
		<input type="file" accept="image/*" capture="camera" style="background: #cccccc;">
	</body>
	<style>
		.getLocation {
			height: 0.4rem;
			line-height: 0.4rem;
			width: 2rem;
			font-size: 0.14rem;
			background: skyblue;
			border-radius: 0.05rem;
		}
		.test_size {
			font-size: 0.08rem;
			 -webkit-text-size-adjust:none;
		}
	</style>
</html>
<script type="text/javascript">
	
document.querySelector('.getLocation').addEventListener('click', function () {
	var options={
            enableHighAccuracy:true,
            maximunAge:1000,
            timeout:10000
    };
    if(window.navigator.geolocation){
        navigator.geolocation.getCurrentPosition(successCallback,errorCallback,options);
    }else{
        alert("你的浏览器不支持定位!");
    }
})

function successCallback(position){
    var output="";
    output +="Your position has bean located . \r\n";
    output+=" Latitude:"+position.coords.latitude+" ";
    output+=" Longitude:"+position.coords.longitude+" ";
    output+=" Accuracy :"+position.coords.accuracy +" meters";
    if(position.coords.latitude){
        output+=" Accuracy :"+position.coords.altitudeAccuracy +" meters";
    }
    if(position.coords.heading){
        output+=" Heading :"+position.coords.Heading +" meters";
    }
    if(position.coords.speed){
        output+=" Speed :"+position.coords.Speed +" m/s";
    }
    output+=" Time of Position "+position.timestamp +" m/s";
    alert(output);
	document.querySelector('.location_str').innerHTML = output
}


function errorCallback(error){
   switch(error.code){
   case error.PERMISSION_DENIED:
       alert("浏览器阻止了定位操作");
       break;
   case error.POSITION_UNAVAILABLE:
       alert("无法获得当前位置");
       break;
   case error.TIMEOUT:
       alert("定位超时");
       break;
       
   }
}
function restRem { // 设置页面rem值
	var win = window;
	var doc = win.document;	
	var docEl = doc.documentElement,
	resizeEvt = "orientationchange" in win ? "orientationchange" : "resize",
	recalc = function() {
		var clientwidth = docEl.clientWidth;
		if(!clientwidth) { return false; }
		var fz = 100 * (clientwidth / 375) + "px"
		docEl.style.fontSize = fz
		var realfz = win.getComputedStyle(docEl).fontSize
		if (fz !== realfz) {
			docEl.style.fontSize = fz.replace("px", '') * (fz.replace("px", '') / realfz.replace("px", '')) + "px"
		}
	};
	if(!doc.addEventListener) { return false; }
	win.addEventListener(resizeEvt, recalc, false);
	doc.addEventListener("DOMContentLoaded", recalc, false);
};
restRem()
</script>
