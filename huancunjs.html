
<html>
	<head>
		<meta charset="utf-8" />
		<title id="titleId">测试缓存</title>
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="format-detection" content="telephone=no" />		
	</head>
	<body>
		<div>这是一个测试缓存的HTML页面</div><br>
    <div class="addL">点击添加监听</div><br>
    <div class="removeL">点击移除监听</div><br>
    <div class="foback">返回</div><br>
    <div class="foOther">跳定位页</div>
	</body>
	<script>
		window.onload = function () {
			var count = 0;
      var lisF = function () {
        // history.pushState(null, null, location.href);
        console.log(count)
        if (count) {
          window.location.href = 'https://mahengfei120.github.io/M_testHTML/getLocation.html';
        }
        count++;
        console.log('ddddddddddddddddddd')
	window.location.href = 'https://zzdntest.5ibazhuayu.com.cn:442/zzh5/#/index';
				// window.history.forward(1);
      };
//       lisF();
      document.querySelector('.addL').addEventListener('click', function () {
        alert('添加监听')
        window.history.pushState(null, null, null);
			  // window.history.forward(1);
        window.addEventListener('popstate', lisF)
      });
      document.querySelector('.removeL').addEventListener('click', function () {
        alert('移除监听')
        window.removeEventListener('popstate', lisF)
      });
      document.querySelector('.foback').addEventListener('click', function () {
        alert('移除监听')
        window.removeEventListener('popstate', lisF)
        window.history.go(-2);
      });
      document.querySelector('.foOther').addEventListener('click', function () {
        console.log('eee')
        window.history.go(-1);
        window.location.replace('https://mahengfei120.github.io/M_testHTML/getLocation.html');
      });
		}
	</script>
</html>
	
	
